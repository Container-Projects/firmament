
package firmament;

import "messages/base_message.proto";

extend BaseMessage {
  optional PutObjectMessage put_object_extn = 108;
  optional GetObjectMessage get_object_extn = 109;
  optional RequestObjectMessage request_object_extn=110; 
  optional ObtainObjectMessage obtain_object_extn=111; 
  optional StorageDiscoverMessage storage_discover_message_extn =112 ; 
  optional StorageHeartBeatMessage storage_heartbeat_message_extn = 113; 
}

/* Should be very rarely used */
message PutObjectMessage {
   required string uuid = 1 ; 
   required bytes data = 2 ;  
}   

message GetObjectMessage {
  required uint64 uuid = 1;
}

message RequestObjectMessage { 
  required uint64 uuid = 1 ; 
  optional string uri = 2  ; // Check whether this is actually needed
}

message ObtainObjectMessage { 
    required uint64 uuid = 1 ;
    optional bytes data  = 2 ;  
    required uint64 size = 3 ;  

}


message StorageDiscoverMessage { 
    required string uuid = 1 ; 
    required string uri =  2 ; 
    required string storage_uri = 3 ; 
}

message StorageHeartBeatMessage { 
    required string uuid = 1 ; 
    
}
